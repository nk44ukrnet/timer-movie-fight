<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .box {
            width: 50px;
            height: 50px;
            background-color: #5bc0de;
            position: relative;
        }
        .btn {
            width: 50px;
            height: 50px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
<div class="btn"></div>
<div class="box">

</div>
<script>
    const btn = document.querySelector('.btn'),
        elem = document.querySelector('.box');
    let pos = 0;

    // function myAnimation() {
    //     let pos = 0;

    //     const id = setInterval(frame, 10);
    //     function frame() {
    //         if (pos == 300) {
    //             clearInterval(id);
    //         } else {
    //             pos++;
    //             elem.style.top = pos + "px";
    //             elem.style.left = pos + 'px';
    //         }
    //     }
    // }

    function myAnimation() {
        pos++;
//        elem.style.top = pos + "px";
//        elem.style.left = pos + 'px';
        elem.style.transform = `translate(${pos}px, ${pos}px)`;

        if (pos < 300) {
            requestAnimationFrame(myAnimation);
        }
    }

    btn.addEventListener('click', () => requestAnimationFrame(myAnimation));

    let id = requestAnimationFrame(myAnimation);
    cancelAnimationFrame(id);
</script>
</body>
</html>